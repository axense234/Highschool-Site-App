generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Announcement {
  announcement_uid String               @id @unique @default(uuid())
  id               String               @default("")
  title            String
  description      String
  category         AnnouncementCategory @default(GENERALE)

  img_url        String?
  video_url      String?
  video_pozition VideoPozition? @default(INCEPUT)

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt
}

model Admin {
  admin_uid String @id @unique @default(uuid())
  id        String @default("")

  profile_img_url String @default("https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y")

  username String
  email    String @unique
  password String
}

model Student {
  student_uid String @id @unique @default(uuid())
  id          String @default("")

  profile_img_url String @default("https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y")

  username String
  email    String @unique
  password String
}

model Teacher {
  teacher_uid String @id @unique @default(uuid())
  id          String @default("")

  profile_img_url String   @default("https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y")
  subject         Subjects

  username    String
  email       String @unique
  description String
}

model StudentCatalogue {
  catalogue_uid String @id @unique @default(uuid())
  id            String @default("")

  sections StudentCard[]
}

model StudentCard {
  card_uid String @id @unique @default(uuid())
  id       String @default("")

  student_catalogue StudentCatalogue? @relation(fields: [catalogue_uid], references: [catalogue_uid])
  catalogue_uid     String?
}

model StudentCardSection {
  card_section_uid String @id @unique @default(uuid())
  id               String @default("")

  subject  Subjects
  grades   String[]
  absences String[]
}

enum Subjects {
  MATEMATICA
  FIZICA
  CHIMIE
  INFORMATICA
  INFORMATICA_OPTIONAL

  ENGLEZA
  ROMANA
  FRANCEZA
  GERMANA
  LATINA

  BIOLOGIE
  GEOGRAFIE
  ISTORIE
  PSIHOLOGIE

  SPORT
  DESEN
  MUZICA
  RELIGIE
}

enum AnnouncementCategory {
  GENERALE
  SPECIALE
  PROFESORI
  ELEVI
}

enum VideoPozition {
  INCEPUT
  FINAL
}
